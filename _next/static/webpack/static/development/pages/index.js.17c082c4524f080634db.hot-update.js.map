{"version":3,"file":"static/webpack/static/development/pages/index.js.17c082c4524f080634db.hot-update.js","sources":["webpack:///./components/PaperList.js"],"sourcesContent":["import React, { Component, useState, useEffect } from 'react'\nimport Router, { withRouter } from 'next/router'\nimport Paper from '../components/Paper'\nimport Pdf from '../components/Pdf'\nconst contenful = require('contentful')\n\nconst splitByYear = (papers) => {\n\tconst papersByYears = []\n\tpapers.forEach((paper) => {\n\t\tconst yearOfPublication = new Date(\n\t\t\tpaper.fields.dateOfPublication\n\t\t).getFullYear()\n\n\t\tif (!Object.keys(papersByYears).includes(yearOfPublication.toString()))\n\t\t\tpapersByYears[yearOfPublication] = []\n\n\t\tpapersByYears[yearOfPublication].push(paper.fields)\n\t})\n\treturn papersByYears\n}\n\nconst sortByDate = (papersByYears) => {\n\tpapersByYears = papersByYears.map((year) =>\n\t\tyear.sort(\n\t\t\t(a, b) => new Date(b.dateOfPublication) - new Date(a.dateOfPublication)\n\t\t)\n\t)\n\treturn papersByYears\n}\n\nconst PaperList = ({ contentfulContentType }) => {\n\tconst client = contenful.createClient({\n\t\tspace: '3ar0fsplddpo',\n\t\taccessToken: '-2X0RW7MtFVdOBMf8N1X4aEMF0mMWEFo4sq4N-oxV7s',\n\t})\n\n\tconst midborginOkkarLogo = '../static/tmp.png'\n\n\tconst [papers, setPapers] = useState([])\n\tuseEffect(() => {\n\t\tclient\n\t\t\t.getEntries({\n\t\t\t\tcontent_type: contentfulContentType,\n\t\t\t})\n\t\t\t.then((entries) => setPapers(entries.items))\n\t}, [])\n\n\tconst papersByYears = sortByDate(splitByYear(papers))\n\n\treturn (\n\t\t<>\n\t\t\t{papersByYears\n\t\t\t\t.map((papers, year) => (\n\t\t\t\t\t<React.Fragment key={year}>\n\t\t\t\t\t\t<div className=\"year\">{year}</div>\n\t\t\t\t\t\t<div className=\"papers\">\n\t\t\t\t\t\t\t{papers.map((paper) => (\n\t\t\t\t\t\t\t\t<Paper {...paper} key={paper.yearOfPublication} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<hr className=\"header-ruler\" />\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t))\n\t\t\t\t.reverse()}\n\t\t</>\n\t)\n}\n\nexport default PaperList\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAIA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAFA;AAKA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAKA;AACA;AAPA;AAAA;AAAA;AACA;AAQA;AACA;AAEA;AADA;AAGA;AAAA;AACA;AAEA;AAEA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AARA;AAcA;AACA;AACA;;;;A","sourceRoot":""}